<!--  This file is app/views/events/index.html.erb -->
<div class="mt-3 inline-flex">
  <%= button_to "My Profile", student_profile_path, method: :get, :class => 'text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800'%>
  <%= button_to "All Events", events_path, method: :get, :class => 'text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800'%>
  <%= button_to "My Events", student_events_path, method: :get , :class => 'text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800'%>
</div>

<h2 class="mt-6 text-3xl font-bold tracking-tight text-gray-900"> All Events </h2>

<%= form_tag events_path, method: :get, id: 'tags_form' do %>
  <%= hidden_field_tag 'sort_by', @sort_by %>
  <% @all_tags.each do |tag| %>
    <div class="form-check  form-check-inline">
      <%= label_tag "tags[#{tag}]", tag, class: 'form-check-label' %>
      <%= check_box_tag "tags[#{tag}]", "1",  @tags_to_show_hash.include?(tag), class: 'form-check-input' %>
    </div>
  <% end %>
  <%= submit_tag 'Filter', id: 'tags_submit', :class => 'text-blue-700 hover:text-white hover:bg-blue-800 border border-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-2.5 mr-1 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800' %>
<% end %>

<div class="mt-2 overflow-x-auto relative shadow-md sm:rounded-lg">
  <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400" id="events">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th scope="col" class="py-3 px-6">Event Name</th>
        <th scope="col" class="py-3 px-6">Date and Time</th>
        <th scope="col" class="py-3 px-6">Location</th>
        <th scope="col" class="py-3 px-6">Tags</th>
        <th scope="col" class="py-3 px-6"><span class="sr-only">More Info</div></th>
      </tr>
    </thead>
    <tbody>
      <% @events.each do |event| %>
        <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
          <th scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white">
            <%= event.name %>
          </th>
          <td class="py-4 px-6">
            <%= event.datetime %>
          </td>
          <td class="py-4 px-6">
            <%= event.location %>
          </td>
          <td class="py-4 px-6">
            <%= event.tags.map{|item|%Q{#{item}}}.join(', ') %>
          </td>
          <td class="py-4 px-6">
            <%= button_to "Learn More", about_event_path(event), method: :get, :class => 'font-medium text-blue-600 dark:text-blue-500 hover:underline' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<div class="mt-6 inline-flex">
  <%= button_to "Log Out", root_path, method: :get , :class => 'text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900'%>
</div>
